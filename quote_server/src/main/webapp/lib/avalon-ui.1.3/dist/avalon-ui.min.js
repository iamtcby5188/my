!function(e,n){var t=["ui.grid","ui.grid.autoResize","ui.grid.selection","ui.grid.treeView","ui.grid.moveColumns","ui.grid.pinning","ui.grid.resizeColumns","ui.grid.exporter","ui.grid.pagination","ui.grid.saveState"];n&&t.push("react");var i=void 0;try{i=e.module("ui.bootstrap")}catch(e){}i&&t.push("ui.bootstrap"),console.debug("testModule: "+i);var o=e.module("avalon.ui",t).constant("avalonUiConfig",{baseUrl:"",templateList:[{key:"template/checkbox.html",value:'\ufeff<div class="ss-input-control ss-checkbox" ng-click="onClick($event)">\r\n    <input type="checkbox" ng-model="value" ng-change="onChangeChecked($event)" ng-disabled="{{isDisabled}}">\r\n    <i class="check ss-icon ss-icon-primary ss-icon-checkbox-{{value?\'selected\':\'unselected\'}}" ng-disabled="{{isDisabled}}"></i>\r\n    <span class="caption" ng-class="{\'ss-text-disabled\':isDisabled}" ng-bind="label" ng-disabled="{{isDisabled}}"></span>\r\n</div>\r\n'},{key:"template/datepicker_template.html",value:'\ufeff<div class="qbdatepickerRect">\r\n    <div class="globalCover" ng-show="showDatepicker" ng-click="datepickerDismiss()"></div>\r\n    <div class="inputRect">\r\n        <!-- ng-model-options="{ updateOn: \'blur\' }" 可以通过设置变更parsers的触发时机不需要注册 ng-blur="blur()" -->\r\n        <input class="defaultDatePickerInput ss-input-text ss-input-text-sm {{pickerConfig.class}} {{showDatepicker&&!pickerConfig.readOnly?\'inputable\':\'\'}}"\r\n               ng-class="{isEditing:isEditing === true}"\r\n               ng-focus="selectInput($event)"\r\n               ng-model="pickerDateString"\r\n               ng-model-options="{ updateOn: \'blur\' }"\r\n               ng-blur="blur()"\r\n               ng-readonly="{{pickerConfig.readOnly}}"\r\n               ng-keydown="keydown($event)"\r\n               ng-click="initDatepicker()" />\r\n        <div class="rangeTipRect">\r\n            <div class="rangeTip" style="opacity:{{upperRangeTip||lowerRangeTip?\'1\':\'0\'}};width:{{upperRangeTip||lowerRangeTip?\'auto\':\'0\'}};">\r\n                <div class="angle"></div>\r\n                <div class="tip{{upperRangeTip?\'\':\' ng-hide\'}}">日期不能晚于{{upperRangeDate}}</div>\r\n                <div class="tip{{lowerRangeTip?\'\':\' ng-hide\'}}">日期不能早于{{lowerRangeDate}}</div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n    <div class="qbdatepicker" ng-show="showDatepicker">\r\n        <div class="pickerHeader1">\r\n            <div class="headBox1 ml_5">\r\n                <input ng-model="currentYear" />\r\n                <dl><dd class="datepicker_arrow plus" ng-click="currentYear=currentYear+1"></dd><dd class="datepicker_arrow reduce" ng-click="currentYear-1>pickerConfig.yearMin?currentYear=currentYear-1:currentYear=pickerConfig.yearMin"></dd></dl>\r\n            </div><span class="headerLabel">&#24180</span>\r\n            <div class="headBox1 ml_15">\r\n                <input ng-model="currentMonth" />\r\n                <dl><dd class="datepicker_arrow plus" ng-click="currentMonth+1>12?currentMonth=1:currentMonth=currentMonth+1"></dd><dd class="datepicker_arrow reduce" ng-click="currentMonth-1<1?currentMonth=12:currentMonth=currentMonth-1"></dd></dl>\r\n            </div><span class="headerLabel">&#26376</span>\r\n        </div>\r\n        <div class="pickerHeader2"><span class="days">&#26085</span><span class="days">&#19968</span><span class="days">&#20108</span><span class="days">&#19977</span><span class="days">&#22235</span><span class="days">&#20116</span><span class="days">&#20845</span></div>\r\n        <div class="dateCellRect">\r\n            <!-- selectedDateInt==cell.timeStr?\' isSelected\':\'\' -->\r\n            <div class="dateCell{{cell.disable?\'\':\' dateCellOn\'}}{{cell.date==-1?\' ng-hide\':\'\'}}{{todayDateInt==cell.timeStr?\' isToday\':\'\'}}"\r\n                 ng-class="{\'isSelected\': cell.timeStr === selectedDateInt, \'isToday\': cell.isToday}"\r\n                 ng-hide="cell.date==-1" ng-repeat="cell in dateCells track by $index" ng-click="selectDate(cell.timeStr,cell.date,cell.disable)">{{cell.date?cell.date:\'&nbsp;\'}}</div>\r\n        </div>\r\n    </div>\r\n</div>'},{key:"template/filter_template.html",value:'<div class="filterRect">\r\n    <ul>\r\n        <li ng-repeat="condition in conditions track by $index"><button class="ss-btn {{condition.active?\'ss-btn-warning\':\'ss-btn-gray\'}}" type="button" ng-click="filterBtnClick($event,$index)">{{condition.title}}</button></li>\r\n    </ul>\r\n</div>'},{key:"template/menu.html",value:'<div class="ss-menu" ng-show="menuShow">\r\n    <ul class="ss-text-secondary" ng-class="{\'ss-menu-active\':mindex==$index,\'ss-menu-icon\':d.icon,\'ss-menu-children\':d.children}" ng-repeat="d in data" ng-mouseleave="menuOut()" ng-mouseover="menuOver(d.children,$index)" ng-click="d.event?d.event($event,d):menuClickFn($event,d)">\r\n        {{d.title}}\r\n        <li ng-if="d.line" ng-class="{\'ss-menu-line\':d.line}"></li>\r\n        <div class="ss-menu ss-menu-first-children" ng-class="{\'ss-menu-showLeft\':menuShowLeft,\'ss-menu-showRight\':!menuShowLeft}" ng-if="showchildrenindex==$index">\r\n            <ul class="ss-text-secondary" ng-mouseover="childrenMenuOver($index)" ng-mouseleave="childrenMenuOut()"\r\n                ng-class="{\'ss-menu-active\':childrenhoverindex==$index,\'ss-menu-icon\':dc.icon}" ng-repeat="dc in d.children track by $index" ng-click="dc.event?dc.event($event,dc):menuClickFn($event,dc)">\r\n                {{dc.title}}\r\n                <li ng-if="dc.line" ng-class="{\'ss-menu-line\':dc.line}"></li>\r\n            </ul>\r\n        </div>\r\n    </ul>\r\n</div>'},{key:"template/modal.html",value:'<div class="ss-modal">\r\n   <div id="box" class="ss-modal-dialog">\r\n      <div  class="ss-modal-content">\r\n         <div class="ss-modal-header" id="bar">\r\n            <button type="button" class="close cancel" \r\n               data-dismiss="ss-modal" aria-hidden="true">\r\n                  &times;\r\n            </button>\r\n            <h4  class="ss-modal-title" id="myModalLabel">\r\n          \r\n            </h4>\r\n         </div>\r\n         <div class="ss-modal-body" align="center" >\r\n         \t<!--<div class="icon">\t\r\n         \t</div>               -->\r\n           <div class="ss-modal-body-content">\r\n          \r\n           </div>\r\n         </div>\r\n        <div class="ss-modal-footer">\r\n         \r\n         </div>\r\n      </div><!-- /.modal-content -->\r\n</div><!-- /.modal -->\r\n</div>'},{key:"template/radiobutton.html",value:'\ufeff<div class="ss-input-control ss-radiobutton-group">\r\n    <div class="ss-radiobutton" ng-click="onClick($event)">\r\n        <input type="radio" ng-checked="targetValue && value === targetValue" ng-disabled="{{isDisabled}}">\r\n        <i class="check ss-icon ss-icon-primary ss-icon-radiobutton-{{(targetValue && value === targetValue)?\'selected\':\'unselected\'}}" ng-disabled="{{isDisabled}}"></i>\r\n        <span class="caption" ng-class="{\'ss-text-disabled\':isDisabled}" ng-bind="label" ng-disabled="{{isDisabled}}"></span>\r\n    </div>\r\n</div>'},{key:"template/modal.html",value:'<div class="ss-modal">\r\n    <div id="box" class="ss-modal-dialog">\r\n        <div class="ss-modal-content">\r\n            <div class="ss-modal-header" id="bar">\r\n                <button type="button" class="close cancel"\r\n                        data-dismiss="ss-modal" aria-hidden="true">\r\n                    &times;\r\n                </button>\r\n                <h4 class="ss-modal-title" id="myModalLabel">\r\n                    表格设置\r\n                </h4>\r\n            </div>\r\n            <div ng-if="columsSettingNoGroup" class="ss-modal-body" align="left" style="margin-left: 42px;">\r\n                <!--<div ng-repeat="col in columns_setting | filter:{\'group\':\'user\'}" class="column-setting-no-group">-->\r\n                <div ng-repeat="col in rangeeee(0,10) track by $index" class="column-setting-no-group">\r\n                    <input type="checkbox" class="ss-checkbox-directive"\r\n                           ng-model="col.checked" ng-disabled="col.unchecked" ss-label={{col.field}}>\r\n                </div>\r\n\r\n                <p class="columns-setting-modal-line-no-group"></p>\r\n\r\n                <div ng-repeat="col in rangeeee(10,20) track by $index" class="column-setting-no-group">\r\n                    <input type="checkbox" class="ss-checkbox-directive"\r\n                           ng-model="col.checked" ng-disabled="col.unchecked" ss-label={{col.field}}>\r\n                </div>\r\n                <p class="columns-setting-modal-line-no-group"></p>\r\n\r\n                <div ng-repeat="col in rangeeee(20,100) track by $index" class="column-setting-no-group">\r\n                    <input type="checkbox" class="ss-checkbox-directive"\r\n                           ng-model="col.checked" ng-disabled="col.unchecked" ss-label={{col.field}}>\r\n                </div>\r\n                <p class="columns-setting-modal-line-no-group"></p>\r\n            </div>\r\n\r\n\r\n            <!--grid-columns-group-->\r\n            <div ng-if="columsSettingByGroup" class="ss-modal-body clearfix" align="left" style="margin-left: 42px;display: table">\r\n                <p class="ss-text-extra columns-setting-group-style">user</p>\r\n                <div ng-repeat="col in rangeeee(0,8)" class="column-setting-group">\r\n                    <input type="checkbox" class="ss-checkbox-directive" ng-model="col.checked" ng-disabled="col.unchecked" ss-label={{col.field}}>\r\n                </div>\r\n\r\n                <p class="ss-text-extra columns-setting-modal-line-group"></p>\r\n                <p class="ss-text-extra columns-setting-group-style">extra</p>\r\n                <div ng-repeat="col in rangeeee(8,16)" class="column-setting-group">\r\n                    <input type="checkbox" class="ss-checkbox-directive" ng-model="col.checked" ng-disabled="col.unchecked" ss-label={{col.field}}>\r\n                </div>\r\n                <p class="ss-text-extra columns-setting-modal-line-group"></p>\r\n            </div>\r\n            <div class="columns-unchecked-tooltip" ng-show="result">请至少选择1项</div>\r\n            <div class="ss-modal-footer" style="bottom: 20px">\r\n            </div>\r\n        </div><!-- /.modal-content -->\r\n    </div><!-- /.modal -->\r\n</div>'}]});o.run(["$templateCache","$http","avalonUiConfig",function(e,n,t){t.templateList&&t.templateList.length>0&&t.templateList instanceof Array&&t.templateList.forEach(function(n,t){e.put(n.key,n.value)})}]),o.service("avalon.ui.utility",[function(){function e(e,t){if(e){if(!t||t.indexOf(".")<0)return e[t];var i=t.split("."),o=i.shift();if(e.hasOwnProperty(o))return n(e[o],i)}}function n(e,t){if(!t||!e)return e;var i=t.shift();return 0===t.length?e[i]:n(e[i],t)}function t(e,n,t){if(e||(e={}),n.indexOf(".")<0)return e[n]=t;var o=n.split("."),r=o.shift();return e[r]||(e[r]={}),i(e[r],o,t),e}function i(e,n,t){if(n){var o=n.shift();0===n.length?e[o]=t:(e[o]||(e[o]={}),i(e[o],n,t))}}this.getProperty=e,this.setPropperty=t,this.safeApply=function(e,n){var t=e.$root.$$phase;if("$apply"===t||"$digest"===t)n&&"function"==typeof n&&n();else try{e.$apply(n)}catch(e){}}}])}(window.angular,window.React),function(e){"use strict";e.module("avalon.ui").directive("ssCheckboxDirective",[function(){var e=["$scope",function(e){var n=void 0;e.onChangeChecked=function(){n={oldValue:e.oldValue,newValue:e.value},e.updateModel({$event:n}),e.oldValue=e.value},e.onClick=function(n){e.isNoBindModel||(e.value=!e.value,e.onChangeChecked())};(function(){e.oldValue=e.value})()}];return{restrict:"C",replace:!0,templateUrl:"template/checkbox.html",controller:e,scope:{value:"=ngModel",label:"@ssLabel",updateModel:"&ngChange",type:"@type",isDisabled:"=ngDisabled"},compile:function(e,n){return{pre:function(e,n,t){void 0===t.ngModel&&(e.isNoBindModel=!0)},post:function(e,n,t){}}}}}])}(window.angular),function(){angular.module("avalon.ui").directive("ssDatepickerDirective",function(){return{restrict:"C",replace:!0,require:"ngModel",scope:{pickerConfig:"=?",format:"@",readOnly:"@",yearMax:"@",yearMin:"@",upperRange:"@",lowerRange:"@",nullValueString:"@",vmChanged:"&"},templateUrl:"template/datepicker_template.html",link:function(e,n,t){},compile:function(e,n){return{pre:function(e,n,t,i){function o(e){if(e)return e=+e,(new Date).getTime()+864e5*e}function r(n){if(n=n||(e.nullValueString?void 0:new Date),!n)return n;var t=n.constructor.name;return"String"==t&&(n.length<3?n="error":null),"Date"!=t&&(n=new Date(n)),n}function l(n){return n.getYear()+1900<e.pickerConfig.yearMin?n.setYear(e.pickerConfig.yearMin):null,n.getYear()+1900>e.pickerConfig.yearMax?n.setYear(e.pickerConfig.yearMax):null,n.getTime()>e.pickerConfig.upperRange?e.upperRangeTip=!0:e.upperRangeTip=!1,n.getTime()<e.pickerConfig.lowerRange?e.lowerRangeTip=!0:e.lowerRangeTip=!1,n}function a(n){e.currentYear=n.getYear()+1900,e.currentMonth=n.getMonth()+1,e.currentDate=n.getDate()}function s(){for(var n=new Date(e.currentYear,e.currentMonth-1,1),t=new Date(n.getFullYear(),n.getMonth()+1,0).getDate(),i=n.getDay(),o=d,r=0,l=0,a=new Date,s=a.getMonth(),c=a.getDate(),u=0;u<o.length;u++)if(o[u].date=0,o[u].timeStr=0,o[u].disable=0,u>i-1&&(r+=1,o[u].disable=1,o[u].timeStr=-1e9),r<=t&&(o[u].date=r,l=u,o[u].timeStr=new Date(e.currentYear,e.currentMonth-1,r).getTime(),o[u].timeStr>e.pickerConfig.upperRange||o[u].timeStr<e.pickerConfig.lowerRange||!r?o[u].disable=1:o[u].disable=0),r>t&&(l>34?o[u].date=0:u<35?o[u].date=0:o[u].date=-1,o[u].disable=1,o[u].timeStr=-1e9),o[u].timeStr){var p=new Date(o[u].timeStr);o[u].isToday=c===p.getDate()&&s===p.getMonth()}e.dateCells=o}for(var c=0,d=[],u=0,p=0;p<42;p++)d.push({day:u-7*Math.floor(u/7),date:0,timeStr:0}),u+=1;e.pickerConfig=e.pickerConfig||{format:e.format||"yyyy.mm.dd",readOnly:e.readOnly||!1,yearMax:e.yearMax||9999,yearMin:e.yearMin||1900,upperRange:o(e.upperRange),lowerRange:o(e.lowerRange)},e.$outterModelCtrl=i,i.$formatters.unshift(function(n){var t=r(n),i=t,o=e.nullValueString?e.nullValueString:"";return t&&"Invalid Date"!==t.toString()?(i.setHours(0),i.setMinutes(0),i.setSeconds(0),i.setMilliseconds(0),i=l(i),a(i),e.selectedDateInt=i.getTime(),i.setTime(i.getTime()-6e4*i.getTimezoneOffset()),o=e.genDateStr()):a(new Date),e.pickerDateString=o,o}),i.$parsers.unshift(function(){if(e.isEditing&&i.$viewValue)return i.$modelValue;var n=r(i.$viewValue),t=n;return n&&"Invalid Date"!==n.toString()?(e.selectedDateInt=t.getTime(),t.setHours(0),t.setMinutes(0),t.setSeconds(0),t.setMilliseconds(0),t=l(t),a(t),t.setTime(t.getTime()-6e4*t.getTimezoneOffset()),e.pickerDateString=e.genDateStr()):(a(new Date),e.pickerDateString=e.nullValueString||""),t}),e.$watch("currentYear",function(n,t){return 1*n!=1*n?void(e.currentYear=t):n>e.pickerConfig.yearMax?void(e.currentYear=t):n<1e3?(clearTimeout(c),void function(n){c=setTimeout(function(){e.currentYear==n&&(e.currentYear=(new Date).getYear()+1900,e.$apply())},2e3)}(n)):(n>0&&(e.currentYear=Math.floor(e.currentYear),s()),e.currentYear=1*e.currentYear,void(e.currentYear>999&&(e.currentYear<e.pickerConfig.yearMin?e.currentYear=(new Date).getYear()+1900:e.currentYear>e.pickerConfig.yearMax&&(e.currentYear=(new Date).getYear()+1900))))}),e.$watch("currentMonth",function(n,t){return 1*n!=1*n?void(e.currentMonth=t):n>12?void(e.currentMonth=12):n<1?void setTimeout(function(){e.currentMonth<1&&(e.currentMonth=1,e.$apply())},1e3):(n>0&n<13&&(e.currentMonth=Math.floor(e.currentMonth),s()),void(e.currentMonth=1*e.currentMonth))})},post:function(e,n,t,i){function o(e){var n=new Date(e);return n.setHours(0),n.setMinutes(0),n.setSeconds(0),n.setMilliseconds(0),n.getTime()}e.pickerConfig=function(e){e=e||{};var n={class:e.class||"",format:e.format||"yyyy-mm-dd",readOnly:e.readOnly||!1,yearMax:e.yearMax||9999,yearMin:e.yearMin||1900,upperRange:e.upperRange||2534022144e5,lowerRange:e.lowerRange||-621355968e5};return n.upperRange=o(n.upperRange),n.lowerRange=o(n.lowerRange),n}(e.pickerConfig);var r=new Date(e.pickerConfig.upperRange),l=new Date(e.pickerConfig.lowerRange);e.upperRangeDate=e.genDateStr(null,r.getYear()+1900,r.getMonth()+1,r.getDate()),e.lowerRangeDate=e.genDateStr(null,l.getYear()+1900,l.getMonth()+1,l.getDate()),e.todayDateInt=new Date(o(new Date)).getTime()}}},controller:["$scope",function(e){e.genDateStr=function(n,t,i,o){if(n=n||String(e.pickerConfig.format),!n)return"";var r=t||String(e.currentYear),l=i||String(e.currentMonth),a=o||String(e.currentDate),s=l,c=a;return l<10?l="0"+l:null,a<10?a="0"+a:null,n=n.replace(/yyyy/,r),n=n.replace(/mm/,l),n=n.replace(/dd/,a),n=n.replace(/m/,s),n=n.replace(/d/,c)},e.keydown=function(n){13===n.keyCode?(n.target.blur(),e.showDatepicker=!1,e.isEditing=!1):e.isEditing=!0},e.blur=function(){},e.selectDate=function(n,t,i){t&&e.currentYear>=e.pickerConfig.yearMin&&!i&&(e.currentDate=t,e.$outterModelCtrl.$viewValue=n,e.$outterModelCtrl.$commitViewValue(),e.vmChanged&&e.vmChanged(),e.showDatepicker=!1)},e.datepickerDismiss=function(){e.showDatepicker=!1,e.isEditing=!1},e.selectInput=function(n){e.pickerConfig.readOnly||setTimeout(function(){n.target.select()},100)},e.initDatepicker=function(){e.showDatepicker=!0};(function(){e.showDatepicker=!1})()}]}})}(),function(){angular.module("avalon.ui").directive("ssFilterDirective",function(){return{restrict:"E",replace:!1,scope:{filterConfig:"=",filterCondition:"="},templateUrl:"template/filter_template.html",link:function(e,n,t){function i(){var n={identifier:e.filterConfig.identifier||"",multiSelect:e.filterConfig.multiSelect,enableAllBtn:e.filterConfig.enableAllBtn,saveStatus:e.filterConfig.saveStatus,storageFunction:e.filterConfig.storageFunction||sessionStorage,conditions:e.filterConfig.conditions||[]};if(n.enableAllBtn)var t=[{title:"全部",data:"all",active:!0}];else var t=[];e.filterConfig=n,e.conditions=t.concat(n.conditions),e.onMultiAct=0,e.filterConfig.saveStatus?o():null}function o(){var n=e.filterConfig.storageFunction.getItem(e.filterConfig.identifier),t=JSON.parse(n);'["all"]'!=n&&(t.length>1?e.onMultiAct=1:e.onMultiAct=0,t.forEach(function(n,t){e.conditions.forEach(function(t,i){JSON.stringify(n)==JSON.stringify(t.data)&&e.filterBtnClick({ctrlKey:e.onMultiAct},i)})}))}function r(){for(var n=[],t=0;t<e.conditions.length;t++)e.conditions[t].active&&n.push(e.conditions[t].data);n.length||n.push("all"),1==n.length&&"all"==n[0]?e.filterConfig.enableAllBtn?e.conditions[0].active=!0:null:e.filterConfig.enableAllBtn?e.conditions[0].active=!1:null}function l(){if(e.filterConfig.saveStatus){for(var n=[],t=0;t<e.conditions.length;t++)e.conditions[t].active&&n.push(e.conditions[t].data);var i=JSON.stringify(n);e.filterConfig.storageFunction.setItem(e.filterConfig.identifier,i)}}e.filterBtnClick=function(n,t){var i=n.ctrlKey&&e.filterConfig.multiSelect;if(i)e.conditions[t].active?e.conditions[t].active=!1:e.conditions[t].active=!0,e.onMultiAct=1;else{if(e.onMultiAct&&e.conditions[t].active){for(var o=0;o<e.conditions.length;o++)e.conditions[o].active=!1;e.conditions[t].active=!0}else if(e.conditions[t].active){for(var o=0;o<e.conditions.length;o++)e.conditions[o].active=!1;e.conditions[t].active=!1}else{for(var o=0;o<e.conditions.length;o++)e.conditions[o].active=!1;e.conditions[t].active=!0}e.onMultiAct=0}r(),l(),e.filterCondition=e.conditions},i()}}})}(),angular.module("avalon.ui").directive("ssMenuDirective",[function(){return{restrict:"C",replace:!0,scope:{data:"=menuData",menuClickData:"=menuClick",menuForbidScrolldom:"=menuForbidScrolldom",menuForced:"=menuForced"},templateUrl:"template/menu.html",link:function(e,n,t){var i=[],o=n.parent(".ss-menu-contextmenu"),r=angular.element(o);r&&r.on("contextmenu",function(t){e.$apply(function(){t.preventDefault(),e.menuShow=!0,e.mindex=-1,e.showchildrenindex=-1,e.childrenhoverindex=-1,e.clientX=t.clientX,n.css({left:l(r,n,t.clientX,0).width+"px",top:a(r,n,t.clientY,$(".ss-menu ul").height()*e.data.length).height+"px"})}),e.menuForbidScrolldom&&("true"!=e.menuForbidScrolldom[e.menuForbidScrolldom.length-1]?$.each(e.menuForbidScrolldom,function(n,t){$(t)&&$(t).off("scroll").on("scroll",function(){$scope.$apply(function(){e.menuShow=!1})})}):$.each(e.menuForbidScrolldom,function(e,n){i.push($(n).scroll),$(n).off("scroll");var t=$(n).scrollTop();$(n).on("scroll",function(){$(this).scrollTop(t),console.log($(this).scrollTop())})}))}),$(document).on("click",function(n){n.preventDefault(),n.stopPropagation(),e.$apply(function(){e.menuShow&&(e.menuShow=!1)}),e.menuForbidScrolldom&&e.menuForbidScrolldom.length>0&&$.each(e.menuForbidScrolldom,function(e,n){$(n)&&$(n).off("scroll")})}),e.menuOver=function(t,i){e.mindex=i,e.showchildrenindex=t?i:-1,t&&(l(r,n,e.clientX,1).istrue?e.menuShowLeft=!0:e.menuShowLeft=!1)},e.childrenMenuOver=function(n){e.childrenhoverindex=n},e.childrenMenuOut=function(n){e.childrenhoverindex=-1},e.menuClickFn=function(n,t){e.menuClickData=t,n.stopPropagation()};var l=function(n,t,i,o){var r={width:0,istrue:!0};return $(n).parent().width()<$(n).width()&&("auto"==$(n).parent().css("overflow")||"scroll"==$(n).parent().css("overflow"))&&(n=$(n).parent()),e.menuForced&&e.menuForced.x?r.width=i:$(n).width()-(i-$(n).offset().left)-$(t).width()*o<$(t).width()?(r.width=i-$(t).width(),r.istrue=!1):r.width=i,r},a=function(n,t,i,o){$(n).parent().height()<$(n).height()&&("auto"==$(n).parent().css("overflow")||"scroll"==$(n).parent().css("overflow"))&&(n=$(n).parent());var r={height:0,istrue:!0};return e.menuForced&&e.menuForced.y?r.height=i:$(n).height()-(i-($(n).offset().top-$(document).scrollTop()))<o+parseInt($(t).css("paddingTop"))+parseInt($(t).css("paddingBottom"))?(r.height=i-o,r.istrue=!1):r.height=i,r}}}}]),function(e){"use strict";e.module("avalon.ui").factory("modalService",["$timeout","$window",function(e,n){var t={};return t.dialog=function(e,n,i){for(var o="",r=e.footer?e.footer:["确定","取消"],l=0,a=r.length;l<a;l++)o+=0==l?'<button type="button" class="btn btn-default comfirm" data-dismiss="ss-modal">'+r[l]+"</button>":'<button type="button" class="btn btn-default cancel" data-dismiss="ss-modal">'+r[l]+"</button>";$(".ss-modal-content").css("width",e.size.width),$(".ss-modal-content").css("height",e.size.height),$(".ss-modal-title").text(e.head),$(".ss-modal-body-content").html(e.body),$(".ss-modal-footer").html(o),$(".ss-modal").show(),$(".cancel").off("click"),$(".cancel").on("click",function(){return t.close(),i&&i(),!1}),$(".comfirm").off("click"),$(".comfirm").on("click",function(){t.close(),n&&n()})},t.close=function(){$(".ss-modal").hide()},t.info=function(e,n){var i={head:"提示",body:'<i class="body-icon ss-icon ss-icon-dialog-caution"></i><p class="text">'+e+"</p>",size:{width:"400px",height:"217px"}},o='<button type="button" class="btn btn-default comfirm" data-dismiss="ss-modal">确定</button>';$(".ss-modal-content").css("width",i.size.width),$(".ss-modal-content").css("height",i.size.height),$(".ss-modal-title").text(i.head),$(".ss-modal-body-content").html(i.body),$(".ss-modal-footer").html(o),$(".ss-modal").show(),$(".cancel").off("click"),$(".cancel").on("click",function(){t.close()}),$(".comfirm").off("click"),$(".comfirm").on("click",function(){t.close(),n&&n()})},t.err=function(e,n){var i={head:"提示",body:'<i class="body-icon ss-icon ss-icon-dialog-error"></i><p class="text">'+e+"</p>",size:{width:"400px",height:"217px"}},o='<button type="button" class="btn btn-default comfirm" data-dismiss="ss-modal">确定</button>';$(".ss-modal-content").css("width",i.size.width),$(".ss-modal-content").css("height",i.size.height),$(".ss-modal-title").text(i.head),$(".ss-modal-body-content").html(i.body),$(".ss-modal-footer").html(o),$(".ss-modal").show(),$(".cancel").off("click"),$(".cancel").on("click",function(){t.close()}),$(".comfirm").off("click"),$(".comfirm").on("click",function(){t.close(),n&&n()})},t.suc=function(e,n){var i={head:"提示",body:'<i class="body-icon ss-icon ss-icon-dialog-success"></i><p class="text">'+e+"</p>",size:{width:"400px",height:"217px"}},o='<button type="button" class="btn btn-default comfirm" data-dismiss="ss-modal">确定</button>';$(".ss-modal-content").css("width",i.size.width),$(".ss-modal-content").css("height",i.size.height),$(".ss-modal-title").text(i.head),$(".ss-modal-body-content").html(i.body),$(".ss-modal-footer").html(o),$(".ss-modal").show(),$(".cancel").off("click"),$(".cancel").on("click",function(){t.close()}),$(".comfirm").off("click"),$(".comfirm").on("click",function(){t.close(),n&&n()})},t.question=function(e,n,i){var o={head:"提示",body:'<i class="body-icon ss-icon ss-icon-dialog-confirm"></i><p class="text">'+e+"</p>",size:{width:"400px",height:"217px"}},r='<button type="button" class=" btn btn-default comfirm" data-dismiss="ss-modal">确认</button><button type="button" class="btn btn-default cancel" data-dismiss="ss-modal">取消</button>';$(".ss-modal-content").css("width",o.size.width),$(".ss-modal-content").css("height",o.size.height),$(".ss-modal-title").text(o.head),$(".ss-modal-body-content").html(o.body),$(".ss-modal-footer").html(r),$(".ss-modal").show(),$(".cancel").off("click"),$(".cancel").on("click",function(){return t.close(),i&&i(),!1}),$(".comfirm").off("click"),$(".comfirm").on("click",function(){t.close(),n&&n()})},t.startDrag=function(e,n,t){var i,o,r={left:0,top:0,currentX:0,currentY:0,flag:!1};e.onmousedown=function(t){o=parseInt($(n).css("width"))/2,i=parseInt($(n).css("height"))/2,r.left=n.offsetLeft,r.top=n.offsetTop,r.flag=!0,t||(t=window.event,e.onselectstart=function(){return!1});var l=t;r.currentX=l.clientX,r.currentY=l.clientY},document.onmouseup=function(){r.flag=!1},document.onmousemove=function(e){var l=e?e:window.event;if(l.preventDefault(),r.flag){var a=l.clientX,s=l.clientY,c=a-r.currentX,d=s-r.currentY,u=(n.style.Width,parseInt(r.left)+c),p=parseInt(r.top)+d;n.style.left=u<=o?o+"px":u>=window.innerWidth-o?window.innerWidth-o+"px":u+"px",console.log(p),console.log(i),n.style.top=p<=i?i+"px":p>=window.innerHeight-i?window.innerHeight-i+"px":p+"px"}"function"==typeof t&&t(parseInt(r.left)+c,parseInt(r.top)+d)}},t}])}(window.angular),function(e){"use strict";e.module("avalon.ui").directive("ssModalDirective",["$interval","$parse","$timeout","$window","modalService",function(e,n,t,i,o){return{restrict:"C",replace:!0,templateUrl:"template/modal.html",link:function(e,n,i){t(function(){var e=$(".ss-modal-dialog")[0];o.startDrag(e,e)},0)}}}])}(window.angular),function(e){"use strict";e.module("avalon.ui").directive("ssRadiobuttonDirective",["$parse","avalon.ui.utility",function(e,n){var t=["$scope",function(e){var n=void 0;e.onClick=function(n){e.isNoBindModel||(e.value=e.targetValue,e.onChange())},e.onChange=function(){n={oldValue:e.oldValue,newValue:e.value},e.oldValue=e.value,n.newValue!==n.oldValue&&n.newValue===e.targetValue&&e.updateModel({$event:n})};(function(){e.oldValue=e.value})()}];return{restrict:"C",replace:!0,templateUrl:"template/radiobutton.html",controller:t,scope:{value:"=ngModel",targetValue:"@ssValue",label:"@ssLabel",updateModel:"&ngChange",type:"@type",isDisabled:"=ngDisabled",labelPath:"@ssLabelPath",ngRepeatInner:"@ngRepeat"},link:function(e,n,t,i){},compile:function(e,n){return{pre:function(e,n,t,i){var o=function(){var e=t.ngRepeat;if(e){var n=e.match(/^\s*([\s\S]+?)\s+in\s+([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+track\s+by\s+([\s\S]+?))?\s*$/);if(n){var i=n[1],o=(n[2],n[3]);n[4];if(n=i.match(/^(?:(\s*[\$\w]+)|\(\s*([\$\w]+)\s*,\s*([\$\w]+)\s*\))$/)){var r=n[3]||n[1];n[2];if(!o||/^[$a-zA-Z_][$a-zA-Z0-9_]*$/.test(o)&&!/^(null|undefined|this|\$index|\$first|\$middle|\$last|\$even|\$odd|\$parent|\$root|\$id)$/.test(o))return r}}}}();o&&(e.targetValue=e.$parent[o]),e.$watch(function(){return e.value},function(n,t){n!==t&&e.onChange()}),void 0===t.ngModel&&(e.isNoBindModel=!0)},post:function(e,n,t,i){}}}}}])}(window.angular),function(e,n){"use strict";if(!n)return void console.warn("AvalonUI: React and React-DOM not loaded.");var t=n.createClass({propTypes:{fname:n.PropTypes.string.isRequired,lname:n.PropTypes.string.isRequired},render:function(){return n.DOM.span(null,"The name of Super Man is "+this.props.fname+" "+this.props.lname)}});e.module("avalon.ui").directive("reactHelloComponentDirective",["reactDirective",function(e){return e(t)}]),e.module("avalon.ui").value("reactHelloComponentValue",t),e.module("avalon.ui").service("reactHelloComponentService",[function(){return t}])}(window.angular,window.React),function(e,n){"use strict";if(!n)return void console.warn("AvalonUI: React and React-DOM not loaded.");var t=n.createClass({displayName:"component",propTypes:{fname:n.PropTypes.string.isRequired,lname:n.PropTypes.string.isRequired},render:function(){return n.createElement("span",null,"The name of Super Man is ",this.props.fname," ",this.props.lname)}});e.module("avalon.ui").directive("reactHelloJsxComponentDirective",["reactDirective",function(e){return e(t)}])}(window.angular,window.React),function(e){return e?void(e.themes.ssChartStyle={themeName:"ssChartStyle",AmChart:{color:"#e7e7e7",backgroundColor:"#161819",fontFamily:"Microsoft YaHei"},AmCoordinateChart:{colors:["#ffc96c","#dc4444","#4876cf","#58b96d","#b26ed0","#dc6b35","#7adc4e","#25ba93","#f04971","#fbff1e","#724887","#7256bc"]},AmStockChart:{colors:["#dc4444","#dc6b35","#fbff1e","#7adc4e","#25ba93","#4876cf","#b26ed0","#f04971","#9d9888","#916b8a","#724887","#7256bc"]},AmSlicedChart:{outlineAlpha:1,outlineThickness:2,outlineColor:"#161819",labelTickColor:"#FFFFFF",labelTickAlpha:.3,colors:["#dc4444","#dc6b35","#fbff1e","#7adc4e","#25ba93","#4876cf","#b26ed0","#f04971","#9d9888","#916b8a","#724887","#7256bc"]},AmRectangularChart:{zoomOutButtonColor:"#FFFFFF",zoomOutButtonRollOverAlpha:.15,zoomOutButtonImage:"lensWhite"},AxisBase:{axisColor:"#FFFFFF",axisAlpha:.3,gridAlpha:.1,gridColor:"#FFFFFF",dashLength:3},ChartScrollbar:{backgroundColor:"#000000",backgroundAlpha:.2,graphFillAlpha:.2,graphLineAlpha:0,graphFillColor:"#FFFFFF",selectedGraphFillColor:"#FFFFFF",selectedGraphFillAlpha:.4,selectedGraphLineColor:"#FFFFFF",selectedBackgroundColor:"#FFFFFF",selectedBackgroundAlpha:.09,gridAlpha:.15},ChartCursor:{cursorColor:"#FFFFFF",color:"#000000",cursorAlpha:.5},AmLegend:{color:"#e7e7e7"},AmGraph:{lineAlpha:.9},GaugeArrow:{color:"#FFFFFF",alpha:.8,nailAlpha:0,innerRadius:"40%",nailRadius:15,startWidth:15,borderAlpha:.8,nailBorderAlpha:0},GaugeAxis:{tickColor:"#FFFFFF",tickAlpha:1,tickLength:15,minorTickLength:8,axisThickness:3,axisColor:"#FFFFFF",axisAlpha:1,bandAlpha:.8},TrendLine:{lineColor:"#c03246",lineAlpha:.8},AreasSettings:{alpha:.8,color:"#666666",colorSolid:"#000000",unlistedAreasAlpha:.4,unlistedAreasColor:"#555555",outlineColor:"#000000",outlineAlpha:.5,outlineThickness:.5,rollOverBrightness:30,slectedBrightness:50,rollOverOutlineColor:"#000000",selectedOutlineColor:"#000000",unlistedAreasOutlineColor:"#000000",unlistedAreasOutlineAlpha:.5},LinesSettings:{color:"#555555",alpha:.8},ImagesSettings:{alpha:.8,labelColor:"#FFFFFF",color:"#FFFFFF",labelRollOverColor:"#3c5bdc"},ZoomControl:{buttonFillAlpha:.4},SmallMap:{mapColor:"#444444",rectangleColor:"#666666",backgroundColor:"#000000",backgroundAlpha:.5,borderColor:"#555555",borderThickness:1,borderAlpha:.8},PeriodSelector:{color:"#e7e7e7"},PeriodButton:{color:"#e7e7e7",background:"transparent",opacity:.7,border:"1px solid rgba(255, 255, 255, .15)",MozBorderRadius:"5px",borderRadius:"5px",margin:"1px",outline:"none",boxSizing:"border-box"},PeriodButtonSelected:{color:"#e7e7e7",backgroundColor:"rgba(255, 255, 255, 0.1)",border:"1px solid rgba(255, 255, 255, .3)",MozBorderRadius:"5px",borderRadius:"5px",margin:"1px",outline:"none",opacity:1,boxSizing:"border-box"},PeriodInputField:{color:"#e7e7e7",background:"transparent",border:"1px solid rgba(255, 255, 255, .15)",outline:"none"},DataSetSelector:{color:"#e7e7e7",selectedBackgroundColor:"rgba(255, 255, 255, .25)",rollOverBackgroundColor:"rgba(255, 255, 255, .15)"},DataSetCompareList:{color:"#e7e7e7",lineHeight:"100%",
boxSizing:"initial",webkitBoxSizing:"initial",border:"1px solid rgba(255, 255, 255, .15)"},DataSetSelect:{border:"1px solid rgba(255, 255, 255, .15)",outline:"none"}}):void console.warn("AvalonUI: Amcharts not loaded.")}(window.AmCharts);